(this["webpackJsonpissue-status"]=this["webpackJsonpissue-status"]||[]).push([[0],{216:function(e,n,t){"use strict";t.r(n);var a,o,r,i,s,c,l,u,d,b,p,m,g,j,O,f,h,x,_,S,v,A,E,w,T,k,N,P=t(0),y=t.n(P),R=t(78),C=t.n(R),L=(t(92),t(4)),M=t(2),I=t(86),D=t(5),F=t(3),Y=(t(93),F.a.div(a||(a=Object(M.a)(["\n  width: 100%;\n  height: 44px;\n  border-radius: 3px;\n\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"])))),J=t(82),z=t.n(J),W=t(83),K=new z.a(W),H={operational:{name:"Operational",locName:K.components.operational,backgroundColour:"rgba(104, 255, 55, 0.1)"},performanceIssues:{name:"Performance Issues",locName:K.components.performanceIssues,backgroundColour:"rgba(78, 140, 255, 0.1)"},partialOutage:{name:"Partial Outage",locName:K.components.partialOutage,backgroundColour:"rgba(255, 128, 28, 0.1)"},majorOutage:{name:"Major Outage",locName:K.components.majorOutage,backgroundColour:"rgba(213, 0, 0, 0.1)"},maintenance:{name:"Maintenance",locName:K.components.maintenance,backgroundColour:"rgba(255, 94, 94, 0.1)"},unknown:{name:"Unknown",locName:K.components.unknown,backgroundColour:"rgba(198, 198, 198, 0.1)"}},U=function(e){var n=Object(P.useState)(),t=Object(L.a)(n,2),a=t[0],o=t[1];return Object(P.useEffect)((function(){o(Object.values(H).find((function(n){return e.find((function(e){return e.name===n.name.toLowerCase()}))})))}),[e]),a||o(H.unknown),[a]},B=t(1),G=F.a.div(o||(o=Object(M.a)(["\n  background-color: ",";\n  padding: 5px 12px;\n  border-radius: 16px;\n  font-size: 13px;\n  transition: 0.3s;\n"])),(function(e){return e.backgroundColour})),V=function(e){var n=e.labels,t=U(n),a=Object(L.a)(t,1)[0];return Object(B.jsx)(G,{className:"component-status ".concat(null===a||void 0===a?void 0:a.name.toLowerCase().replace(" ","")),backgroundColour:null===a||void 0===a?void 0:a.backgroundColour,children:null===a||void 0===a?void 0:a.locName})},Z=t(84),$=t.n(Z),q=function(e,n){var t=Object(P.useState)(),a=Object(L.a)(t,2),o=a[0],r=a[1];return Object(P.useEffect)((function(){var t=e.title;r(n.filter((function(e){var n=e.title.split(":");return e.labels.find((function(e){return"subcomponent"===e.name}))&&n.length>0&&n[0]===t})))}),[e,n]),o},Q=F.a.div(r||(r=Object(M.a)(["\n  padding: 8px 16px;\n  border-radius: 3px;\n  justify-content: space-between;\n  align-items: center;\n  display: flex;\n\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]))),X=function(e){var n=e.component,t=e.components,a=Object(P.useState)(!1),o=Object(L.a)(a,2),r=o[0],i=o[1],s=q(n,t);if(n.labels.find((function(e){return"subcomponent"===e.name})))return null;if((null===s||void 0===s?void 0:s.length)>0&&!n.labels.find((function(e){return"maintenance"===e.name}))){var c=null===s||void 0===s?void 0:s.map((function(e){return Object(B.jsxs)(Q,{className:"component collapsed",children:[Object(B.jsxs)("div",{children:[e.title.split(":")[1],e.body?Object(B.jsx)("span",{className:"component-body",children:e.body}):null]}),Object(B.jsx)(V,{labels:e.labels})]},e.id)}));return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(Q,{onClick:function(){return i(!r)},className:"component children",children:[Object(B.jsxs)("div",{children:[n.title,Object(B.jsx)("span",{className:"component-dropdown",children:r?"\u25ba":"\u25bc"}),n.body?Object(B.jsx)("span",{className:"component-body",children:n.body}):null]}),Object(B.jsx)(V,{labels:n.labels})]}),Object(B.jsx)($.a,{theme:{collapse:"collapse-component",content:"collapse-content"},isOpened:r,children:c})]})}return Object(B.jsxs)(Q,{className:"component",children:[Object(B.jsxs)("div",{children:[n.title,n.body?Object(B.jsx)("span",{className:"component-body",children:n.body}):null]}),Object(B.jsx)(V,{labels:n.labels})]})},ee=function(){var e=Object(P.useState)(),n=Object(L.a)(e,2),t=n[0],a=n[1];return Object(P.useEffect)((function(){a(!0)}),[]),[t]},ne=function(e){var n=e.loading,t=e.components,a=ee(),o=Object(L.a)(a,1)[0];return!n||o?(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.sort((function(e,n){return e.title.localeCompare(n.title)})).map((function(e){return Object(B.jsx)(X,{component:e,components:t},e.id)})):Object(B.jsx)("p",{children:K.error.nocomponents}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Y,{}),Object(B.jsx)(Y,{}),Object(B.jsx)(Y,{})]})},te=F.a.div(i||(i=Object(M.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 16px;\n"]))),ae=F.a.a(s||(s=Object(M.a)(["\n  font-size: 13px;\n  display: ",";\n"])),(function(e){return e.visible?"block":"none"})),oe=function(){return Object(B.jsxs)(te,{children:[Object(B.jsx)(ae,{visible:"false"!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DESCRIPTION:"OneLife Roleplay Network-Status",REACT_APP_FAVICON:"/favicon.ico",REACT_APP_LOGO:"/logo.png",REACT_APP_MANIFEST:"/manifest.json",REACT_APP_NAME:"OneLife Roleplay Network-Status",REACT_APP_REPOSITORY:"oneliferp/status.oneliferp.net",REACT_APP_TITLE:"OneLife Roleplay Network-Status"}).REACT_APP_BRANDING,href:"https://oneliferp.net/terms",rel:"noopener",target:"_blank",children:K.general.imprint}),Object(B.jsx)(ae,{visible:"false"!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DESCRIPTION:"OneLife Roleplay Network-Status",REACT_APP_FAVICON:"/favicon.ico",REACT_APP_LOGO:"/logo.png",REACT_APP_MANIFEST:"/manifest.json",REACT_APP_NAME:"OneLife Roleplay Network-Status",REACT_APP_REPOSITORY:"oneliferp/status.oneliferp.net",REACT_APP_TITLE:"OneLife Roleplay Network-Status"}).REACT_APP_BRANDING,href:"https://github.com/tadhglewis/issue-status",rel:"noopener",target:"_blank",children:K.general.branding})]})},re=(F.a.h1(c||(c=Object(M.a)(["\n  text-align: center;\n  margin-top: 0;\n  margin-bottom: 0;\n"]))),F.a.img(l||(l=Object(M.a)([""])))),ie=F.a.div(u||(u=Object(M.a)(["\n  text-align: center;\n  margin-bottom: 16px;\n"]))),se=function(){return Object(B.jsx)(ie,{className:"app-header",children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(re,{className:"light-logo",src:"/logo.png",alt:"OneLife Roleplay Network-Status"}),Object(B.jsx)(re,{className:"dark-logo",src:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DESCRIPTION:"OneLife Roleplay Network-Status",REACT_APP_FAVICON:"/favicon.ico",REACT_APP_LOGO:"/logo.png",REACT_APP_MANIFEST:"/manifest.json",REACT_APP_NAME:"OneLife Roleplay Network-Status",REACT_APP_REPOSITORY:"oneliferp/status.oneliferp.net",REACT_APP_TITLE:"OneLife Roleplay Network-Status"}).REACT_APP_DARK_LOGO,alt:"OneLife Roleplay Network-Status"})]})})},ce=t(14),le=t.n(ce),ue=t(85),de=t.n(ue),be=F.a.div(d||(d=Object(M.a)(["\n  transition: 0.3s;\n  border-left: 16px solid\n    ",";\n  border-radius: 3px;\n  padding: 16px;\n  box-shadow: 0px 0px 33px -32px rgba(0, 0, 0, 0.75);\n  margin-top: 8px;\n\n  :not(:last-child) {\n    margin-bottom: 16px;\n  }\n"])),(function(e){return e.active?"rgba(177, 177, 177,0.2)":"rgba(213, 119, 51, 0.25)"})),pe=F.a.div(b||(b=Object(M.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 3px;\n"]))),me=F.a.h3(p||(p=Object(M.a)(["\n  margin-right: 16px;\n  font-weight: bold;\n  margin-bottom: 8px;\n  margin-top: 0;\n"]))),ge=F.a.div(m||(m=Object(M.a)(["\n  white-space: break-spaces;\n"]))),je=F.a.div(g||(g=Object(M.a)(["\n  background-color: ",";\n  padding: 5px 12px;\n  border-radius: 16px;\n  font-size: 13px;\n  transition: 0.3s;\n"])),(function(e){return e.active?"rgba(96, 96, 96, 0.1)":"rgba(73, 144, 226, 0.1)"})),Oe=F.a.div(j||(j=Object(M.a)(["\n  font-size: 13px;\n  color: #6e6b6b;\n  font-weight: bold;\n"]))),fe=function(e){var n=e.incident;return Object(B.jsxs)(be,{className:"incident-container",active:n.closed_at,children:[Object(B.jsxs)(pe,{children:[Object(B.jsx)(Oe,{children:le()(n.created_at).format("LLL").toUpperCase()}),Object(B.jsx)(je,{className:n.closed_at?"incident-status":"activeIncident incident-status",active:n.closed_at,children:n.closed_at?K.incidents.closed:K.incidents.active})]}),Object(B.jsx)(me,{children:n.title}),Object(B.jsx)(ge,{children:Object(B.jsx)(de.a,{className:"incident",children:n.body})})]})},he=F.a.div(O||(O=Object(M.a)(["\n  width: 100%;\n  height: 84px;\n  border-radius: 3px;\n  background-color: white;\n  box-shadow: 0px 0px 33px -32px rgba(0, 0, 0, 0.75);\n\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]))),xe=F.a.div(f||(f=Object(M.a)(["\n  margin: 32px auto 0 auto;\n  max-width: 1040px;\n"]))),_e=F.a.div(h||(h=Object(M.a)(["\n  padding: 0 16px;\n  font-size: 20px;\n  margin-bottom: 16px;\n"]))),Se=F.a.div(x||(x=Object(M.a)(["\n  margin: 0 8px;\n"]))),ve=function(e){var n=e.loading,t=e.incidents,a=ee(),o=Object(L.a)(a,1)[0];return Object(B.jsxs)(xe,{children:[Object(B.jsx)(_e,{children:K.incidents.title}),!n||o?(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((function(e){return Object(B.jsx)(fe,{incident:e},e.id)})):Object(B.jsx)(Se,{children:K.error.noincidents}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{className:"incident-skeleton"}),Object(B.jsx)(he,{className:"incident-skeleton"}),Object(B.jsx)(he,{className:"incident-skeleton"})]})]})},Ae={operational:{message:K.status.operational,name:"operational"},issues:{message:K.status.issues,name:"issues"},outage:{message:K.status.outage,name:"outage"}},Ee=function(e,n){return 100*e.filter((function(e){return e.labels.find((function(e){return e.name===n}))})).length/e.length},we=function(e){var n=Object(P.useState)(),t=Object(L.a)(n,2),a=t[0],o=t[1];return Object(P.useEffect)((function(){var n=!1;Ee(e,"operational")<100&&(o(Ae.issues),n=!0),Ee(e.filter((function(e){return!e.labels.find((function(e){return"subcomponent"===e.name}))})),"major outage")>0&&(o(Ae.outage),n=!0),n||o(Ae.operational)}),[e]),[a]},Te=function(e,n){var t=Object(P.useState)(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow()),a=Object(L.a)(t,2),o=a[0],r=a[1];return Object(P.useEffect)((function(){var n=setInterval((function(){new Date(localStorage.getItem("issueStatusLastFetchcomponent"))<new Date-24e4?e((function(){r(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow())})):r(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow())}),1e3);return function(){clearInterval(n)}}),[e]),Object(P.useEffect)((function(){r(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow())}),[n]),[o]},ke=F.a.div(_||(_=Object(M.a)(["\n  background-color: ",";\n  color: white;\n  padding: 16px;\n  border-radius: 3px;\n  margin-bottom: 32px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  transition: 0.3s;\n"])),(function(e){return e.backgroundColour?e.backgroundColour:"#b1b1b1"})),Ne=F.a.h2(S||(S=Object(M.a)(["\n  font-size: 20px;\n  margin: 0;\n  font-weight: normal;\n"]))),Pe=F.a.span(v||(v=Object(M.a)(["\n  background-color: transparent;\n  text-align: right;\n  padding: 0;\n  font-size: 13px;\n"]))),ye=F.a.button(A||(A=Object(M.a)(["\n  background-color: transparent;\n  color: white;\n  text-decoration: underline;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n"]))),Re=F.a.code(E||(E=Object(M.a)(["\n  white-space: pre-wrap;\n  display: block;\n"]))),Ce=function(e){var n=e.loading,t=e.error,a=e.components,o=e.refetch,r=we(a),i=Object(L.a)(r,1)[0],s=Te(o,n),c=Object(L.a)(s,1)[0];return Object(B.jsxs)(B.Fragment,{children:[t.hasError&&Object(B.jsxs)(Re,{children:[Object(B.jsx)("div",{children:K.error.message.title}),Object(B.jsx)("div",{children:K.error.message.body}),JSON.stringify(t.errors,null,3)]}),Object(B.jsxs)(ke,{className:"status-bar ".concat(null===i||void 0===i?void 0:i.name),backgroundColour:null===i||void 0===i?void 0:i.backgroundColour,children:[Object(B.jsx)(Ne,{children:null===i||void 0===i?void 0:i.message}),Object(B.jsxs)(Pe,{children:[K.general.refresh,Object(B.jsx)(ye,{onClick:o,children:n?K.general.refreshing:c})]})]})]})},Le=function(e,n,t,a){e(!0),fetch("https://api.github.com/repos/".concat("oneliferp/status.oneliferp.net","/issues?state=all&labels=issue status,").concat(a)).then((function(e){return e.json()})).then((function(o){n(),localStorage.setItem("issueStatusLastFetch".concat(a),new Date),localStorage.setItem("issueStatus".concat(a),JSON.stringify(o)),t(o),e(!1)})).catch((function(o){n(o.toString()),localStorage.setItem("issueStatusLastFetch".concat(a),new Date),t(JSON.parse(localStorage.getItem("issueStatus".concat(a)))),e(!1)}))},Me=function(e){var n=Object(P.useState)([]),t=Object(L.a)(n,2),a=t[0],o=t[1],r=Object(P.useState)(),i=Object(L.a)(r,2),s=i[0],c=i[1],l=Object(P.useState)(!0),u=Object(L.a)(l,2),d=u[0],b=u[1];return Object(P.useEffect)((function(){new Date(localStorage.getItem("issueStatusLastFetch".concat(e)))<new Date-24e4?Le(b,c,o,e):(o(JSON.parse(localStorage.getItem("issueStatus".concat(e)))),b(!1),c())}),[e]),[d,s,a||[],function(){return Le(b,c,o,e)}]},Ie=F.a.div(w||(w=Object(M.a)(["\n  max-width: 1008px;\n  padding: 16px;\n  margin: 16px auto;\n"]))),De=F.a.div(T||(T=Object(M.a)(["\n  box-shadow: 0px 0px 33px -32px rgba(0, 0, 0, 0.75);\n  border-radius: 3px;\n  padding: 16px;\n"]))),Fe=F.a.div(k||(k=Object(M.a)(["\n  text-align: center;\n  margin: 75px 0;\n"]))),Ye=F.a.h1(N||(N=Object(M.a)(["\n  font-size: 42pt;\n  margin: 0;\n"]))),Je=function(){document.getElementsByTagName("html")[0].setAttribute("lang",K.getLanguage());var e=Me("component"),n=Object(L.a)(e,4),t=n[0],a=n[1],o=n[2],r=n[3],i=Me("incident"),s=Object(L.a)(i,4),c=s[0],l=s[1],u=s[2],d=s[3];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(De,{className:"components-container",children:[Object(B.jsx)(Ce,{loading:t||c,error:{hasError:a||l,errors:{componentsError:a,incidentsError:l}},components:o,refetch:function(){r(),d()}}),Object(B.jsx)(ne,{loading:t,components:o})]}),Object(B.jsx)(ve,{loading:c,incidents:u})]})},ze=function(){return Object(B.jsxs)(Fe,{children:[Object(B.jsx)(Ye,{children:K.error.notfound.title}),Object(B.jsx)("p",{children:K.error.notfound.description}),Object(B.jsx)("p",{children:Object(B.jsx)("a",{href:"/",children:K.error.notfound.link})})]})},We=function(){return Object(B.jsxs)(Ie,{children:[Object(B.jsx)(se,{}),Object(B.jsx)(I.a,{children:Object(B.jsxs)(D.c,{children:[Object(B.jsx)(D.a,{path:"/",exact:!0,component:Je}),Object(B.jsx)(D.a,{path:"**",component:ze})]})}),Object(B.jsx)(oe,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ke(e,n,t,a){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return n?o[t][0]:o[t][1]}le.a.locale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Ke,mm:"%d Minuten",h:Ke,hh:"%d Stunden",d:Ke,dd:Ke,M:Ke,MM:Ke,y:Ke,yy:Ke},ordinal:"%d.",week:{dow:1,doy:4}}),le.a.locale(K.getLanguage()),C.a.render(Object(B.jsx)(y.a.StrictMode,{children:Object(B.jsx)(We,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e){e.exports=JSON.parse('{"en":{"error":{"noincidents":"No incidents found","nocomponents":"No components found","message":{"title":"An error occurred","body":"You may have exceeded the rate limit. Please try again in one hour."},"notfound":{"title":"404","description":"Seems like this page does not exist.","link":"Return"}},"general":{"refresh":"Last refresh: ","refreshing":"refreshing...","imprint":"Imprint & Privacy Policy","branding":"Powered by Issue Status"},"incidents":{"title":"Incidents","closed":"Resolved","active":"Active"},"components":{"operational":"Operational","performanceIssues":"Performance Issues","partialOutage":"Restricted","majorOutage":"Major Outage","maintenance":"Maintenance","unknown":"Unknown"},"status":{"operational":"All Systems Operational","issues":"Some systems are experiencing issues","outage":"Some systems are experiencing an outage"}},"de":{"error":{"noincidents":"Keine Meldungen gefunden","nocomponents":"Keine Komponenten gefunden","message":{"title":"Ein Fehler ist aufgetreten","body":"Du hast eventuell das Anfragenlimit \xfcberschritten. Bitte versuche es in einer Stunde erneut."},"notfound":{"title":"404","description":"Scheint so, als h\xe4ttest du dich verlaufen.","link":"Zur\xfcck zur Startseite"}},"general":{"refresh":"Zuletzt aktualisiert: ","refreshing":"laden ...","imprint":"Impressum & Datenschutzerkl\xe4rung","branding":"Powered by Issue Status"},"incidents":{"title":"Meldungen","closed":"Gel\xf6st","active":"Aktiv"},"components":{"operational":"Funktionsf\xe4hig","performanceIssues":"Leistungsprobleme","partialOutage":"Eingeschr\xe4nkt","majorOutage":"Ausfall","maintenance":"Wartungen","unknown":"Unbekannt"},"status":{"operational":"Alle Systeme funktionsf\xe4hig","issues":"Einige Systeme haben Probleme","outage":"Einige Systeme melden einen Ausfall"}}}')},92:function(e,n,t){},93:function(e,n,t){}},[[216,1,2]]]);
//# sourceMappingURL=main.b0211f79.chunk.js.map